<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="600.0" prefWidth="800.0" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="further_prog.assignment_2.Dashboard.DashboardController">
    <children>
        <GridPane prefHeight="400.0" prefWidth="600.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
            <columnConstraints>
                <ColumnConstraints hgrow="SOMETIMES" prefWidth="733.6" />
                <ColumnConstraints hgrow="SOMETIMES" prefWidth="186.4" />
            </columnConstraints>
            <rowConstraints>
                <RowConstraints prefHeight="78.4" vgrow="SOMETIMES" />
                <RowConstraints prefHeight="385.6" vgrow="SOMETIMES" />
                <RowConstraints prefHeight="30.0" vgrow="SOMETIMES" />
            </rowConstraints>
            <children>
                <AnchorPane GridPane.columnIndex="0" GridPane.rowIndex="0">
                    <children>
                        <Label fx:id="intro" layoutX="14.0" layoutY="42.0" text="Welcome : ">
                            <font>
                                <Font name="Segoe UI Bold" size="24.0" />
                            </font>
                        </Label>
                    </children>
                </AnchorPane>

                <AnchorPane GridPane.columnIndex="1" GridPane.rowIndex="0">
                    <children>
                        <!-- Updated button layout with CART, ORDER HISTORY, and LOGOUT buttons -->
                        <VBox layoutX="-100.0" layoutY="20.0" spacing="8.0">
                            <children>
                                <HBox spacing="10.0">
                                    <children>
                                        <Button onAction="#handleViewOrderHistory"
                                                style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8px 12px; -fx-font-size: 12px; -fx-border-radius: 5px; -fx-background-radius: 5px;"
                                                text="ORDER HISTORY">
                                        </Button>
                                        <Button onAction="#cartPage"
                                                style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8px 16px; -fx-font-size: 12px; -fx-border-radius: 5px; -fx-background-radius: 5px;"
                                                text="CART">
                                        </Button>
                                    </children>
                                </HBox>
                                <!-- Logout button in its own row -->
                                <Button onAction="#handleLogout"
                                        prefWidth="160.0"
                                        style="-fx-background-color: #f44336; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8px 16px; -fx-font-size: 12px; -fx-border-radius: 5px; -fx-background-radius: 5px;"
                                        text="LOGOUT">
                                </Button>
                            </children>
                        </VBox>
                    </children>
                </AnchorPane>

                <!-- Fixed header that stays aligned with content -->
                <HBox prefHeight="35.0" prefWidth="800.0" style="-fx-background-color: #2c3e50; -fx-padding: 10px; -fx-spacing: 0;" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="1" GridPane.valignment="TOP">
                    <children>
                        <Label prefWidth="180.0" style="-fx-font-weight: bold; -fx-text-fill: white; -fx-font-size: 14px; -fx-alignment: center-left;" text="Event" />
                        <Label prefWidth="150.0" style="-fx-font-weight: bold; -fx-text-fill: white; -fx-font-size: 14px; -fx-alignment: center-left;" text="Venue" />
                        <Label prefWidth="80.0" style="-fx-font-weight: bold; -fx-text-fill: white; -fx-font-size: 14px; -fx-alignment: center;" text="Day" />
                        <Label prefWidth="80.0" style="-fx-font-weight: bold; -fx-text-fill: white; -fx-font-size: 14px; -fx-alignment: center;" text="Price" />
                        <Label prefWidth="60.0" style="-fx-font-weight: bold; -fx-text-fill: white; -fx-font-size: 14px; -fx-alignment: center;" text="Sold" />
                        <Label prefWidth="60.0" style="-fx-font-weight: bold; -fx-text-fill: white; -fx-font-size: 14px; -fx-alignment: center;" text="Total" />
                        <Label prefWidth="80.0" style="-fx-font-weight: bold; -fx-text-fill: white; -fx-font-size: 14px; -fx-alignment: center;" text="Available" />
                        <Label prefWidth="80.0" style="-fx-font-weight: bold; -fx-text-fill: white; -fx-font-size: 14px; -fx-alignment: center;" text="Action" />
                    </children>
                </HBox>

                <ScrollPane fx:id="eventScrollPane" fitToWidth="true" prefHeight="350.0" prefWidth="800.0"
                            style="-fx-background-color: transparent; -fx-border-color: #bdc3c7; -fx-border-width: 1px;"
                            GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="1" GridPane.valignment="BOTTOM">
                    <content>
                        <VBox fx:id="EventDisplayBox" prefWidth="780.0" spacing="2.0" style="-fx-padding: 0px; -fx-background-color: white;">
                            <!-- Event items will be dynamically added here -->
                        </VBox>
                    </content>
                </ScrollPane>
            </children>
        </GridPane>
    </children>
</AnchorPane>